# Туториал по Node Version Manager (NVM)

Если вы создаете Node.js приложения, вы могут понадобится разные версии среды виполнения Node. К счастью есть легкий споспоб для установки и управления любих версий на одной машине - и это Node Version Manager. В етой сатье описаны все команды которые пондоблятся вам для смены веррсии Node без лишних усилий.

## Что такое Node.js?

Node.js это среда выполнения JavaScript с открытим исходным кодом, в основном использется для написания веб-серверов, сайтов или RESTful API. Его базовая функциональность подерживается модулями которые базируются на API, спроектированом так что бы сдеалть написание серверных приложения легче. Node.js приложения можно запускать на разных платформах: Linux, macOS и Windows, а также они могут быть написаны на любом языке котрый компилируется в JavaScript, например таких как CoffeeScript, Dart и TypeScript.  

Node.js похож на PHP, но существеут несколько значительных различий. В PHP, функции блокирут поток выполнения пока не выполнятся, что означает что может выполнятся только одна команда подряд. В Node.js сущесвует возможность выполнять оперции IO, запросы в базу асинхронно.

## Обновления версий Node.js
Новий релиз Node.js выполняется раз в полгода с master ветки в GitHub, примерно в Апреле и Октябре. Когда выходит новая версия с нечетным номером, самые новые версии с четными номерами стают  long-term support (LTS). Версии до LTS получают активную поддержку на 18 месяцев, а потом ще 12 месяцев технической поддержки. В тоже врямя актвние версии получают non-breaking бэкпорты с любими изминениями реализованими в самой последней версии несколько недель после релиза.

## Что такое Node Version Manager (NVM)?
Node Version Manager - єто утилита что позволяет без проблем переключатся между разными версиями Node. Вы можете установить любую версию одной командой и утсановить версию по умолчанию через интерфейс командной строки.

## Какие операционные системы поддержывает Node Version Manager ?

NVM был первоначально разработанный для Linux и OS X, но также существует проект NVM Windows https://github.com/coreybutler/nvm-window. Хотя существуют незачительные отличия, базоые команды для установки, просмотра и переключения версий Node.js идентичны, кроме случаев описаных ниже.


### Установка  NVM на OS X и Linux

Сначала, удостовертесь в том что утилита совместима с вашей версией оперционной системы. Так же технически вам не нужно удалять уже установленый Node, но лучше сделать это, кром того, нужно удалить любие прежнюю версию npm.

 C++ компилятор необходим для поддержки версий предшествующий 0.8.6. Даже если вы обычно работаете только с LTS или более современными релизами, вы все де можетет установить компилятор C++. Если вы у вас OS X, ваш лучший выбор это Xcode. Чтобы установить его выполните следующую команду:
[code language="bash"]
xcode-select --install
[/code]
Если вы используете Linux, выполните следующую команду, чтобы установить build-essential package вместе  с Advanced Package Tool:

[code language="bash"]
sudo apt-get update
sudo apt-get install build-essential
[/code]
После етого, вы можете установить Node Version Manager исползуя cURL или Wget. Для  cURL выполните следующую команду:
[code language="bash"]
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash
[/code]
Для  Wget выполните следующую команду:
[code language="bash"]
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash
[/code]

Перед установкой узнайте последнюю достпную версия NVM  https://github.com/creationix/nvm/releases. На данный момент последняя версия v0.33.11. команды выше клонируют репозиторий в  ~/.nvm и применят изиминения для вашего bash профиля, так что ви сможете иметь достпу к Node Version Manager где-егодно в вашем терминале.

### Установка  NVM на Windows

Перед тем как вы начнете, удалите существующию версию Node.js, чтобы избежать потенциальных проблем во время установки. Дальше скачайте с  Github nvm-setup.zip https://github.com/coreybutler/nvm-windows/releasesю Послее того как откорете его просто следуйте инструкциям для заверешнния установки.


##  Как использовать NVM

Есть несколько важных вещей которые нужно знать чтобы использовать NVM ефективно, ниже они будут описанны и будут привдени примеры как делать опредленый задачи.

### Установка разных версий  Node.js

Менеджер версий делает устновку разных версий Node.js очень простой с помощью одной команды. Просто запустите команду install и передайте ей параметром необходимую версию. Например, если вы хотите установить Node.js версии v6.5.0, выполните слдкюющую команду:
[code language="bash"]
nvm install v6.5.0
[/code]

Так как утилита следует SemVer, вы можете устанавливать патчи командой install с агрументом номера патча. Для получения списка достпуных версий в Linux и OS X, выполните:
[code language="bash"]
nvm ls-remote
[/code]
Елси вы используете Windows, выполните следующуб команду:
[code language="bash"]
nvm ls available
[/code]
Если вам нужно удалить екземпляр Node, просто выполните nvm uninstall c нужным номером версии.

### Глобальные npm пакеты
Стоит заметить то что глобально утсановленный npm пакеты не разделяются между разными версиями Node.js, потому что они могут причинить проблемы несовместимости. Пожтому, Node Version Manager одновременно устанвлвает совместимую версию npm каждый раз когда вы утсанавливаете какую то версию Node.js. Так как каждый екзеипляр Node имеет собственную версию npm, вы можете запустить npm -v что-бы проверить какая версия чейчас используется. Также не нежно иметь sudo права при утсановке глобальных пакетов. Если вы хотите  переустановить глобальные npm пакеты для опредеоенной версии Node.js или при ее установке, сделайте так:
[code language="bash"]
nvm install v6.5.0 --reinstall-packages-from=4.2
[/code]
Команда выше устанвливает Node 6.5.0 и необходимую npm, потом переустанвливает все утсановленые пакет в версиии 4.2

### Алиасы
Что облегчить процес смены верчий, NVM позволяет использовать псевдноми для определениий версий без указания нормера. Примеры стандартных алиасов:
- node: утсанвливает самую последнюю стабильную версию  Node.js
- unstable: утсанвливает самую последнюю нестабильную версию  Node.js
- iojs: устанавливает самую последнюю стабильную версию io.js

Для установки последней стабильной версии Node.js выполните следующую команду
[code language="bash"]
nvm install node
[/code]
Также существует алиас помумочанию. Для утсановки версии поумолчанию используйте такую команду
[code language="bash"]
nvm alias default node
[/code]

Кроме того, вы можете создавать собственные алиаси:

[code language="bash"]
nvm alias with-async-await 8.1.0
nvm use with-async-await
[/code]

Для удаления алиаса, выполните команду unalias:
[code language="bash"]
nvm unalias with-async-await
[/code]

### Переключения между версиями Node.js

Каждый рак как вы утсанавлтиваете новую версию Node.js, она будет автоматички вибараться для использования. Для переключения между версиями используется команда, nvm use которая работает почти также как и команда install. Например елси вы хотите перключится на последнюю стабильную версию, выполните комануд
[code language="bash"]
nvm use node
[/code]
Для получения списка всех установленых версий Node, исполбзуется коаманда nvm ls:
[code language="bash"]
nvm ls
[/code]
Активная версия будет помечена зеленным цветом и стрелочкой, также текущую версиюможно получить с помощтю команды:

[code language="bash"]
nvm current
[/code]

## Дополнительные команды
- Существует несколько дополнительных команд, которые могут вам когда-нибудь понадоьися. Чтобы запустить команду для установленной версии без переключений переменных node, используйте такой формат

[code language="bash"]
nvm run 8.11.4 --version
[/code]
- чтобы задать определенную версию при запуске команд а саб-терминале, выполните такую команду
[code language="bash"]
nvm exec 8.11.4 node --version
[/code]
- если вы хотите узнать путь к исполнимым файлам Node.js  для какой-то версии Node, испойльщуйте следуюющий формат
 [code language="bash"]
nvm which 8.11.4
 [/code]
 - Также вы можете назначить желаемуб  версию Node.js для ваших проектов, создав  .nvmrc файлы в репозитории проектов. Существует плагин avn https://github.com/wbyoung/avn, который позволяет автоматичски переключпаться межжу версиями при смене директорий.
 
 
## Преймущества использования  Node Version Manager
Кроме економии времени и усилий, возможность переключения между версиями Node имеет еще несколько значительных  выгод. Например, например если вы хотите провареить работу некоторго пакета на определенной версии Node, или если вам нужно возпроизвести баг на нужной версии, NVM позволяет быстро перключится и сделать отладку.

## Заключение

Знание как правильно использовать Node Version Manager может помочь сохранить много времени, которое всегда ценно для разработчиков.


#Использования Axios в Vue.js

Довольно много фреймворков имеют всторенный апи для отправки HTTP запросов. Angular 2 имеет http модуль,JQuery имеет $.ajax, и до версии Vue 2.0, Vue.js имел vue-resource. В Vue 2.0 разрабочтки фреймворка решили что наличиие встроенного http клиента явлется избыточныи и будет лучше использовать сторонии библиотки. Одной из самых популяорных библиотек явлется Axios.
Axios это мощний http клиент. Он использует промисы по умолчнию и работатет как на стороне клиента так и на стороне сервера(что делает возможным загрузку данных во время рендеринга на сервере). Также эту библиотеку довольно леко использовать в Vue, так как она использует промисы, можно комбинироать ее с async/await чтобы получить лаконичный не громоздкий код отправки запросов.

##Установка
Axios  можно установить с помощью NPM или Yarn:
[code language="bash"]
# Установка через Yarn
$ yarn add axios -

# Установка через NPM
$ npm i axios -s
[/code]

##Загрузка даных через GET запрос
Для примера загрузим данные прямо в компоненте, но важно помнить что это являеться плохой практикой и лучше вынести код в сторонний клас в реальных приложениях.
[code language="html"]
<template>
  <ul v-if="posts && posts.length">
    <li v-for="post of posts">
      <h2>{{post.title}}</h2>
      <p>{{post.body}}</p>
    </li>
  </ul>

  <p v-if="error">
      {{error.message}}
  </p>
</template>

<script>
import axios from 'axios';

export default {
  data() {
    return {
      posts: [],
      error: null
    }
  },

  // Загружаем данный когда компонент создался
  created() {
    axios.get(`${Vue.axios.defaults.baseURL}/posts`)
    .then(response => {
      // JSON ответы автоматически парсяться
      this.posts = response.data
    })
    .catch(e => {
      this.error=e;
    })
  }
}
</script>
[/code]

##Отправка данных с помощью POST запроса

С помощью Axios можно с лекостью отправлять POST, PUT, PATCH, и DELETE запросы

[code language="html"]
<template>
    <input type="text" v-model="postBody" @change="postPost()"/>
    <p v-if="error">
       {{error.message}}
    </p>
</template>

<script>
import axios from 'axios';

export default {
  data() {
    return {
      postBody: '',
      error: null
    }
  },

  // Отправляет данный поста на сервер
  postPost() {
    axios.post(`${Vue.axios.defaults.baseURL}/posts`, {
      body: this.postBody
    })
    .then(response => {})
    .catch(e => {
      this.error=e;
    })
  }
}
</script>
[/code]

##Установка базовой конфигурации для всех запросов

Axios дает возможность создать базовый инстанс который повзолеят расшарить базовый URL и конфигурацию для все вызовов инстанса. Это очень удобно если вы работаете с одним API, или вам нужно передавать токен авторизации в всех запросах.
[code language="javascript"]
import axios from 'axios';

export const HTTP = axios.create({
   baseURL: `some api url`,
   headers: {
     Authorization: 'Bearer {token}'
   }
 })
[/code]

Теперь отправка запросов будет выглядеть так

[code language="javascript"]
import {HTTP} from './http-common';

export default {
  data() {
    return {
      posts: [],
      error: null
    }
  },

  created() {
    HTTP.get(`posts`)
    .then(response => {
      this.posts = response.data
    })
    .catch(e => {
      this.error=e;
    })
  }
}
[/code]

#Введение в Expo для React Native

Если вы искали информацию о том как создавать крос-платформенные мобильные приложения с помощью React, вы наверное слышали про React Native https://facebook.github.io/react-native/ и Expo  https://expo.io/.
Вобщем, Expo стоит расматривать как набор библиотек и утилит что облегчают доступ к нативным возможностьям моблиьних платформ и кастомеым UI елементам. Таким как камера, локальное зранилище , контакты и много другое.
В этой статье мы создаим маленькое приложение прогноза погоды которое использует Expo для доступ к нативным API геолокации. Также будет показано как загрузить приложения на expo.io чтобы сделать его доспуным для других пользователей.
Для начала создайте акаунт на expo.io. Так вы сможете загружать свои приложения а также загружать приложениия других разрабочтичков, что очень удобно когда вам нудно проверить функциональность библиотеки которую вы хотите подключить.

## Установка Expo CLI
Expo CLI можно утсановить использую следующую команду. Перед установкой убедеить что у вас установлен Node.js и  iOS/Android  SDK.
[code language="bash"]
$ npm install expo-cli -g
[/code]

Теперь вам доспен целый набор команд. Мы можем посмотреть список этих команд с описаний командой expo. Чтобы создать новый проект введеите слудующщую команду.
[code language="bash"]
$ expo init my-project
> blank

$ cd my-project
$ code .
[/code]

Expo создаст проект и подключит все необходимые библиотеки(react, react-native и expo SDK). Это значит что не нужно самостоятельно устанвливать React Native.
На этом етапе вам нужно будет авторизоватся через ваш Expo аккаунт.
## Запуск проекта
Мы можем запустить раннее созданий проект на Android или iOS с помощью автоатически добавленых npm скриптов. Также можно скаачать приложения Expo с Google Play/Apple App Store чтобы запустить проект на реальном устройстве быстро и просто.
Стоит отметить что запуск iOS приложения возможен только через комп'ютер с macOS.
Запуск на емуляторе
[code language="bash"]
$ expo init my-project
$ npm run ios
# или
$ npm run android
[/code]

Команда выше запускаєт утилиту-сборщик Metro, котороя по сути является HTTP сервером что компилирует ваш код с помощью Babel в совестимый JS код. Далее должен автоматически запустится симулятор и установится приложения Expo. Если ваше приложение не запустилось автоматически, запустите его вручную.

Для запуска приложения на физическом устройстве выполните слдуеющие шаги:
- Скачайте приложение Expo с AppStore или Google Play
- Откройте приложениия Expo и залогинтесь под своим аккаунто
- Просканируйте QR код из консоли в которой выполнили команду npm run ios
- Ваш проект должен открытся в приложении Expo

## Публикация проекта
Для публикации проекта нужно использоавть утилиту  Expo CLI. Выполните следующую команду.
[code language="bash"]
expo publish
[/code]